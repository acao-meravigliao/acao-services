{{page-title "Login"}}

<div class="container">
  <div class="columns">
    <div class="column is-offset-3 is-6">
      <div class="box">
        <h1 class="title has-text-centered">
          {{t "login.login_to"}} {{this.vos.welcome_msg.server_identifier}}
        </h1>

        Questa procedura di login serve ad autenticarsi per conto di altri. Ãˆ ovviamente riservata solo alle persone autorizzate.

        <form class="{{if this.error_message "error"}}" {{on "submit" this.authenticate}}>
          <div class="field">
            <label class="label">{{t "login.username"}}</label>
            <div class="control has-icons-left has-icons-right">
              {{t "login.username_request"}}
              <input id="username"
                     type="text"
                     class="input {{if this.username_warning "is-warning"}}"
                     value={{this.username}}
                     autocomplete="username"
                     autocorrect="off"
                     autocapitalize="none"
                     spellcheck="false"
                     placeholder="email@address.example.com"
                     {{on "change" this.username_changed}}
              />

              <span class="icon is-small is-left">
                <FaIcon @icon="envelope" />
              </span>
            </div>

            {{#if this.username_warning}}
              <p class="help is-warning">{{this.username_warning}}</p>
            {{/if}}
          </div>

          <div class="field">
            <label class="label">{{t "login.password"}}</label>
            <div class="control has-icons-left has-icons-right">
              <input id="password"
                     type="password"
                     class="input {{if this.username_warning "is-warning"}}"
                     value={{this.password}}
                     autocomplete="password"
                     placeholder=""
                     {{on "change" this.password_changed}}
              />

              <span class="icon is-small is-left">
                <FaIcon @icon="key" />
              </span>
            </div>

            {{#if this.password_warning}}
              <p class="help is-warning">{{this.password_warning}}</p>
            {{/if}}
          </div>

          <div class="field">
            <label class="label">{{t "login.username2"}}</label>
            <div class="control has-icons-left has-icons-right">
              {{t "login.username2_request"}}
              <input id="username2"
                     type="text"
                     class="input {{if this.username2_warning "is-warning"}}"
                     value={{this.username2}}
                     autocomplete="username2"
                     autocorrect="off"
                     autocapitalize="none"
                     spellcheck="false"
                     placeholder="email@address.example.com"
                     {{on "change" this.username2_changed}}
              />

              <span class="icon is-small is-left">
                <FaIcon @icon="envelope" />
              </span>
            </div>

            {{#if this.username2_warning}}
              <p class="help is-warning">{{this.username2_warning}}</p>
            {{/if}}
          </div>

          <div class="field">
            <p class="control">
              <button type="submit" class="button is-success {{if this.logging_in "disabled loading"}}">
                {{t "login.login"}}
              </button>
            </p>
          </div>
        </form>

        {{#if this.ex}}
          <ExceptionDecode @ex={{this.ex}} as |title detail|>
            <div class="notification is-danger">
              <h1 class="title">{{title}}</h1><br />
              {{detail}}
            </div>
          </ExceptionDecode>
        {{/if}}
      </div>
    </div>
  </div>
</div>
